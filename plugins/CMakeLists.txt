include_directories(${CMAKE_SOURCE_DIR} ${CMAKE_BINARY_DIR}/core)
add_definitions(-DTRANSLATION_DOMAIN=\"kdeconnect-plugins\")
install(FILES kdeconnect_plugin.desktop DESTINATION ${SERVICETYPES_INSTALL_DIR})

add_subdirectory(ping)
add_subdirectory(clipboard)
add_subdirectory(contacts)
add_subdirectory(telephony)
add_subdirectory(share)
add_subdirectory(notifications)
add_subdirectory(battery)
add_subdirectory(findmyphone)
if(Phonon4Qt5_FOUND)
    add_subdirectory(findthisdevice)
endif()
add_subdirectory(remotekeyboard)
add_subdirectory(mousepad)
if(NOT WIN32)
    add_subdirectory(runcommand)
    add_subdirectory(sendnotifications)
    add_subdirectory(pausemusic)
    add_subdirectory(mpriscontrol)
    add_subdirectory(screensaver-inhibit)
    add_subdirectory(sftp)
endif()

add_subdirectory(castdisplay)
add_subdirectory(castremote)

if(EXPERIMENTALAPP_ENABLED)
    add_subdirectory(remotecommands)
    add_subdirectory(mprisremote)
    add_subdirectory(remotecontrol)
    add_subdirectory(lockdevice)
endif()

#FIXME: If we split notifications in several files, they won't appear in the same group in the Notifications KCM
install(FILES kdeconnect.notifyrc DESTINATION ${KNOTIFYRC_INSTALL_DIR})
